<div class="bg-white dark:bg-[#1a1a1a] rounded-2xl p-6 border border-gray-100 dark:border-gray-800 mb-6">
      <div class="flex flex-col lg:flex-row gap-4 items-end">
        
        <!-- Department Filter -->
        <div class="flex-1 min-w-[200px]">
          <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
            Department
          </label>
          <select 
            [(ngModel)]="selectedDepartment"
            (change)="onFilterChange()"
            class="w-full px-4 py-2.5 bg-gray-50 dark:bg-[#0a0a0a] border border-gray-200 dark:border-gray-800 
                   rounded-xl text-gray-900 dark:text-white text-sm
                   focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500/50 transition-all"
          >
            <option value="">All Departments</option>
            <option value="Engineering">Engineering</option>
            <option value="Design">Design</option>
            <option value="Marketing">Marketing</option>
            <option value="Sales">Sales</option>
            <option value="Operations">Operations</option>
            <option value="Communication">Communication</option>
          </select>
        </div>

        <!-- Status Filter -->
        <div class="flex-1 min-w-[200px]">
          <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
            Status
          </label>
          <select 
            [(ngModel)]="selectedStatus"
            (change)="onFilterChange()"
            class="w-full px-4 py-2.5 bg-gray-50 dark:bg-[#0a0a0a] border border-gray-200 dark:border-gray-800 
                   rounded-xl text-gray-900 dark:text-white text-sm
                   focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500/50 transition-all"
          >
            <option value="">All Status</option>
            <option value="active">Active</option>
            <option value="expiring">Expiring</option>
            <option value="unused">Unused</option>
          </select>
        </div>

        <!-- Category Filter -->
        <div class="flex-1 min-w-[200px]">
          <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
            Category
          </label>
          <select 
            [(ngModel)]="selectedCategory"
            (change)="onFilterChange()"
            class="w-full px-4 py-2.5 bg-gray-50 dark:bg-[#0a0a0a] border border-gray-200 dark:border-gray-800 
                   rounded-xl text-gray-900 dark:text-white text-sm
                   focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500/50 transition-all"
          >
            <option value="">All Categories</option>
            <option value="Communication">Communication</option>
            <option value="Development">Development</option>
            <option value="Design">Design</option>
            <option value="Project Management">Project Management</option>
            <option value="Analytics">Analytics</option>
            <option value="Marketing">Marketing</option>
          </select>
        </div>

        <!-- Cost Range -->
        <div class="flex-1 min-w-[250px]">
          <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
            Monthly Cost Range
          </label>
          <div class="flex items-center gap-2">
            <input 
              type="number" 
              [(ngModel)]="minCost"
              (change)="onFilterChange()"
              placeholder="Min"
              class="w-24 px-3 py-2.5 bg-gray-50 dark:bg-[#0a0a0a] border border-gray-200 dark:border-gray-800 
                     rounded-xl text-gray-900 dark:text-white text-sm
                     focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500/50 transition-all"
            />
            <span class="text-gray-400">—</span>
            <input 
              type="number" 
              [(ngModel)]="maxCost"
              (change)="onFilterChange()"
              placeholder="Max"
              class="w-24 px-3 py-2.5 bg-gray-50 dark:bg-[#0a0a0a] border border-gray-200 dark:border-gray-800 
                     rounded-xl text-gray-900 dark:text-white text-sm
                     focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500/50 transition-all"
            />
          </div>
        </div>

        <!-- Reset Button -->
        <button 
          (click)="resetFilters()"
          class="px-6 py-2.5 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700
                 text-gray-700 dark:text-gray-300 rounded-xl font-medium text-sm transition-colors
                 flex items-center gap-2"
        >
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
          </svg>
          Reset
        </button>
      </div>

      <!-- Active Filters Summary -->
      @if (hasActiveFilters()) {
        <div class="mt-4 flex items-center gap-2 flex-wrap">
          <span class="text-sm text-gray-600 dark:text-gray-400">Active filters:</span>
          
          @if (selectedDepartment()) {
            <span class="px-3 py-1 bg-indigo-100 dark:bg-indigo-500/20 text-indigo-700 dark:text-indigo-300 rounded-full text-xs font-medium flex items-center gap-1">
              Department: {{ selectedDepartment() }}
              <button (click)="clearDepartment()" class="hover:text-indigo-900 dark:hover:text-indigo-100">×</button>
            </span>
          }
          
          @if (selectedStatus()) {
            <span class="px-3 py-1 bg-emerald-100 dark:bg-emerald-500/20 text-emerald-700 dark:text-emerald-300 rounded-full text-xs font-medium flex items-center gap-1">
              Status: {{ selectedStatus() }}
              <button (click)="clearStatus()" class="hover:text-emerald-900 dark:hover:text-emerald-100">×</button>
            </span>
          }
          
          @if (selectedCategory()) {
            <span class="px-3 py-1 bg-purple-100 dark:bg-purple-500/20 text-purple-700 dark:text-purple-300 rounded-full text-xs font-medium flex items-center gap-1">
              Category: {{ selectedCategory() }}
              <button (click)="clearCategory()" class="hover:text-purple-900 dark:hover:text-purple-100">×</button>
            </span>
          }
          
          @if (hasCostRange()) {
            <span class="px-3 py-1 bg-orange-100 dark:bg-orange-500/20 text-orange-700 dark:text-orange-300 rounded-full text-xs font-medium flex items-center gap-1">
              Cost: €{{ minCost() }} - €{{ maxCost() }}
              <button (click)="clearCostRange()" class="hover:text-orange-900 dark:hover:text-orange-100">×</button>
            </span>
          }
        </div>
      }
    </div>